pico-8 cartridge // http://www.pico-8.com
version 15
__lua__
--squashy from picozie 1--

--paddle 
padx=52
pady=122
padw=24
padh=4

--ball
ballx=64
bally=64
ballsize=3
ballxdir=5
ballydir=-3

--score
score=0
lives=3

function movepaddle()
	if btn(0) then 
		padx-=3
	elseif btn(1) then
		padx+=3
	end
end

function moveball()
	ballx+=ballxdir
 bally+=ballydir
end

function losedeadball()
	if bally>128 then
 	if lives>0 then
 		--next life
 		sfx(3)
 		bally=24
 		lives-=1
 	else
 	 --game over
 	 sfx(2)
 	 ballydir=0
 	 ballxdir=0
 	 bally=64
 	 ballx=64
 	end
	end
end

function bounceball()
	--left
	if ballx<ballsize then
		ballxdir=-ballxdir
		sfx(0)
	end
	
	--right
	if ballx>128-ballsize then
		ballxdir=-ballxdir
		sfx(0)
	end
	
 --top
 if bally<ballsize then
 ballydir=-ballydir
 sfx(0)
 end
end

--bounce the ball of the paddle
function bouncepaddle()
	if ballx>=padx and
		  ballx<=padx+padw and
		  bally+ballsize>=pady then
	 sfx(1)
	 score+=10 --increase the score on hit!
	 ballydir=-ballydir
	end
end

function _update()
	movepaddle()
	bounceball()
	bouncepaddle()
	moveball()
	losedeadball()
end

function _draw()
 --clear the screen
 rectfill(0,0,128,128,3)
 
 --draw the lives
 for i=1,lives do
 	spr(004,90+i*8,4)
 end
 
 --draw the score
	print(score,12,6,15)

 --draw the paddle
 rectfill(padx,pady,padx+padw,pady+padh,15)

 --draw the ball
 circfill(ballx,bally,ballsize,15)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000ff0ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000fffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000fffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000fffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000fff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000400003707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000002a76000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000a00001b0501e0502405025050220501c05018050130500e0500b05008050070500505004050030500205001050010500105001050015000110001100011000110005000040000200001000010000700000000
000600002b0701f07016070110700d0700b0700907000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
